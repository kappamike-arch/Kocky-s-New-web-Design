(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5596],{3998:(e,t,a)=>{"use strict";a.d(t,{$:()=>n,r:()=>r});var s=a(95155);function r(){let{variant:e="default",size:t="md"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"".concat("inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"," ").concat({default:"bg-gray-900 text-white hover:bg-gray-800",outline:"border border-gray-300 bg-white hover:bg-gray-50",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200",ghost:"hover:bg-gray-100 hover:text-gray-900",link:"text-gray-900 underline-offset-4 hover:underline",destructive:"bg-red-500 text-white hover:bg-red-600"}[e]," ").concat({sm:"h-9 px-3 text-sm",md:"h-10 px-4 py-2",lg:"h-11 px-8",icon:"h-10 w-10"}[t])}function n(e){let{variant:t="default",size:a="md",className:n="",children:i,asChild:l=!1,...c}=e,o="".concat(r({variant:t,size:a})," ").concat(n);return l?(0,s.jsx)(s.Fragment,{children:i}):(0,s.jsx)("button",{className:o,...c,children:i})}a(12115)},11186:(e,t,a)=>{"use strict";a.d(t,{bq:()=>c,eb:()=>u,gC:()=>d,l6:()=>l,yv:()=>o});var s=a(95155),r=a(12115),n=a(24033);let i=r.createContext({});function l(e){let{children:t,value:a,onValueChange:n}=e,[l,c]=(0,r.useState)(!1),[o,d]=(0,r.useState)(a||"");return(0,r.useEffect)(()=>{void 0!==a&&d(a)},[a]),(0,r.useEffect)(()=>{let e=e=>{l&&c(!1)};return l&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[l]),(0,s.jsx)(i.Provider,{value:{open:l,setOpen:c,selectedValue:o,handleValueChange:e=>{d(e),c(!1),n&&n(e)}},children:(0,s.jsx)("div",{className:"relative",children:t})})}function c(e){let{className:t="",children:a}=e,{open:l,setOpen:c}=r.useContext(i);return(0,s.jsxs)("button",{type:"button",onClick:e=>{e.preventDefault(),e.stopPropagation(),c(!l)},className:"flex h-10 w-full items-center justify-between rounded-md border border-gray-300 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ".concat(t),children:[a,(0,s.jsx)(n.A,{className:"h-4 w-4 opacity-50 transition-transform ".concat(l?"rotate-180":"")})]})}function o(e){let{placeholder:t="Select..."}=e,{selectedValue:a}=r.useContext(i);return(0,s.jsx)("span",{className:a?"":"text-gray-400",children:a||t})}function d(e){let{children:t,className:a=""}=e,{open:n}=r.useContext(i);return n?(0,s.jsx)("div",{className:"absolute top-full left-0 right-0 z-50 mt-1 rounded-md bg-white shadow-lg border border-gray-200 max-h-48 overflow-y-auto ".concat(a),children:(0,s.jsx)("div",{className:"p-1",children:t})}):null}function u(e){let{value:t,children:a}=e,{handleValueChange:n}=r.useContext(i);return(0,s.jsx)("button",{type:"button",className:"relative flex w-full cursor-pointer select-none items-center rounded-sm py-2 px-3 text-sm outline-none hover:bg-gray-100 focus:bg-gray-100 text-left",onClick:e=>{e.preventDefault(),e.stopPropagation(),n(t)},onMouseDown:e=>e.preventDefault(),children:a})}},13406:(e,t,a)=>{"use strict";a.d(t,{Xi:()=>c,av:()=>o,j7:()=>l,tU:()=>i});var s=a(95155),r=a(12115);let n=r.createContext({});function i(e){let{defaultValue:t,value:a,onValueChange:i,className:l="",children:c}=e,[o,d]=(0,r.useState)(a||t);return(0,s.jsx)(n.Provider,{value:{selectedTab:a||o,setSelectedTab:e=>{d(e),null==i||i(e)}},children:(0,s.jsx)("div",{className:l,children:c})})}function l(e){let{className:t="",children:a}=e;return(0,s.jsx)("div",{className:"inline-flex h-10 items-center justify-center rounded-md bg-gray-100 p-1 ".concat(t),children:a})}function c(e){let{value:t,className:a="",children:i}=e,l=r.useContext(n),c=l.selectedTab===t;return(0,s.jsx)("button",{type:"button",className:"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-white transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-400 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 ".concat(c?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"," ").concat(a),onClick:()=>l.setSelectedTab(t),children:i})}function o(e){let{value:t,className:a="",children:i}=e;return r.useContext(n).selectedTab!==t?null:(0,s.jsx)("div",{className:"mt-2 ".concat(a),children:i})}},28912:(e,t,a)=>{"use strict";a.d(t,{Sb:()=>r,VG:()=>n});let s="http://72.167.227.205:5001",r="".concat(s,"/api");function n(e){return e?e.startsWith("http://")||e.startsWith("https://")||e.startsWith("data:")?e:e.startsWith("/uploads/")?"http://72.167.227.205".concat(e):"".concat(s).concat(e):""}},31120:(e,t,a)=>{"use strict";a.d(t,{T:()=>r});var s=a(95155);function r(e){let{className:t="",...a}=e;return(0,s.jsx)("textarea",{className:"flex min-h-[80px] w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ".concat(t),...a})}a(12115)},44846:(e,t,a)=>{"use strict";a.d(t,{d:()=>l});var s=a(95155),r=a(12115),n=a(21130),i=a(64269);let l=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.bL,{className:(0,i.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",a),...r,ref:t,children:(0,s.jsx)(n.zi,{className:(0,i.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});l.displayName=n.bL.displayName},51834:(e,t,a)=>{"use strict";a.d(t,{Cf:()=>u,Es:()=>h,L3:()=>p,c7:()=>m,lG:()=>c,rr:()=>x});var s=a(95155),r=a(12115),n=a(62206),i=a(65229),l=a(64269);let c=n.bL;n.l9;let o=n.ZL;n.bm;let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.hJ,{ref:t,className:(0,l.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r})});d.displayName=n.hJ.displayName;let u=r.forwardRef((e,t)=>{let{className:a,children:r,...c}=e;return(0,s.jsxs)(o,{children:[(0,s.jsx)(d,{}),(0,s.jsxs)(n.UC,{ref:t,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-white text-gray-900 p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...c,children:[r,(0,s.jsxs)(n.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(i.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});u.displayName=n.UC.displayName;let m=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};m.displayName="DialogHeader";let h=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};h.displayName="DialogFooter";let p=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.hE,{ref:t,className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight text-gray-900",a),...r})});p.displayName=n.hE.displayName;let x=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.VY,{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",a),...r})});x.displayName=n.VY.displayName},64269:(e,t,a)=>{"use strict";a.d(t,{cn:()=>n});var s=a(2821),r=a(75889);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.QP)((0,s.$)(t))}},65142:(e,t,a)=>{"use strict";a.d(t,{p:()=>r});var s=a(95155);function r(e){let{className:t="",...a}=e;return(0,s.jsx)("input",{className:"flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ".concat(t),...a})}a(12115)},76444:(e,t,a)=>{"use strict";a.d(t,{J:()=>r});var s=a(95155);function r(e){let{className:t="",children:a,...r}=e;return(0,s.jsx)("label",{className:"text-sm font-medium text-gray-700 ".concat(t),...r,children:a})}a(12115)},86783:(e,t,a)=>{Promise.resolve().then(a.bind(a,87903))},86948:(e,t,a)=>{"use strict";a.d(t,{BT:()=>l,Wu:()=>c,ZB:()=>i,Zp:()=>r,aR:()=>n});var s=a(95155);function r(e){let{className:t="",children:a}=e;return(0,s.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 ".concat(t),children:a})}function n(e){let{className:t="",children:a}=e;return(0,s.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 ".concat(t),children:a})}function i(e){let{className:t="",children:a}=e;return(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 ".concat(t),children:a})}function l(e){let{className:t="",children:a}=e;return(0,s.jsx)("p",{className:"text-sm text-gray-500 mt-1 ".concat(t),children:a})}function c(e){let{className:t="",children:a}=e;return(0,s.jsx)("div",{className:"px-6 py-4 ".concat(t),children:a})}a(12115)},87270:(e,t,a)=>{"use strict";a.d(t,{A0:()=>n,BF:()=>i,Hj:()=>l,XI:()=>r,nA:()=>o,nd:()=>c});var s=a(95155);function r(e){let{className:t="",children:a}=e;return(0,s.jsx)("div",{className:"w-full overflow-auto",children:(0,s.jsx)("table",{className:"w-full caption-bottom text-sm ".concat(t),children:a})})}function n(e){let{className:t="",children:a}=e;return(0,s.jsx)("thead",{className:"border-b bg-gray-50 ".concat(t),children:a})}function i(e){let{className:t="",children:a}=e;return(0,s.jsx)("tbody",{className:"divide-y divide-gray-200 ".concat(t),children:a})}function l(e){let{className:t="",children:a}=e;return(0,s.jsx)("tr",{className:"hover:bg-gray-50 ".concat(t),children:a})}function c(e){let{className:t="",children:a}=e;return(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider ".concat(t),children:a})}function o(e){let{className:t="",children:a,colSpan:r}=e;return(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 ".concat(t),colSpan:r,children:a})}a(12115)},87903:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>J});var s=a(95155),r=a(12115),n=a(86948);function i(e){return"number"==typeof e?e:"string"==typeof e?parseFloat(e):e&&"object"==typeof e&&"toString"in e?parseFloat(e.toString()):0}function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$",a=i(e);return"".concat(t).concat(a.toFixed(2))}function c(e){if(!e)return[];if(Array.isArray(e))return e;if("string"==typeof e)try{let t=JSON.parse(e);return Array.isArray(t)?t:[]}catch(e){}return[]}function o(e){return{...e,price:i(e.price),happyHourPrice:e.happyHourPrice?i(e.happyHourPrice):void 0,tags:c(e.tags),allergens:c(e.allergens)}}var d=a(3998),u=a(65142),m=a(76444),h=a(31120),p=a(44846),x=a(11186),g=a(13406),f=a(51834),v=a(87270),j=a(89592),y=a(12498),b=a(69587),N=a(39347),w=a(86651),A=a(6191),C=a(11010),S=a(42196),P=a(57828),F=a(70532),k=a(21786),E=a(75426),I=a(71360),H=a(65229),T=a(46046),L=a(89678),R=a(22663),z=a(28912);function J(){let[e,t]=(0,r.useState)("REGULAR"),[a,J]=(0,r.useState)([]),[O,D]=(0,r.useState)([]),[U,$]=(0,r.useState)(!0),[G,M]=(0,r.useState)(!1),[B,_]=(0,r.useState)(!1),[W,Z]=(0,r.useState)(null),[V,Y]=(0,r.useState)(null),[q,X]=(0,r.useState)(""),[K,Q]=(0,r.useState)("all"),[ee,et]=(0,r.useState)(null),[ea,es]=(0,r.useState)(null);(0,r.useRef)(null);let er=(0,r.useRef)(null),[en,ei]=(0,r.useState)({name:"",description:"",category:"APPETIZER",menuType:"REGULAR",price:0,happyHourPrice:void 0,servingSize:"",preparationTime:15,available:!0,featured:!1,sortOrder:0,tags:[],allergens:[]}),[el,ec]=(0,r.useState)({name:"",description:"",menuType:"REGULAR",displayMode:"FULL_DETAILS",sortOrder:0,isActive:!0}),eo={REGULAR:{label:"Regular Menu",icon:j.A,color:"blue"},HAPPY_HOUR:{label:"Happy Hour",icon:y.A,color:"purple"},BRUNCH:{label:"Brunch",icon:b.A,color:"orange"},SPECIALS:{label:"Specials",icon:N.A,color:"green"}};(0,r.useEffect)(()=>{ed()},[e]);let ed=async()=>{$(!0);try{let[t,a]=await Promise.all([L.F.get("/enhanced-menu/items",{params:{menuType:e}}),L.F.get("/enhanced-menu/sections",{params:{menuType:e}})]),s=(t.data.data||[]).map(o);J(s),D(a.data.data||[])}catch(e){R.Ay.error("Failed to fetch menu data")}finally{$(!1)}},eu=async()=>{try{let e;if(console.log("Saving item with form data:",en),console.log("Category:",en.category),console.log("SectionId:",en.sectionId),!en.name||!en.price||!en.category)return void R.Ay.error("Please fill in all required fields (Name, Price, Category)");let t={...en,happyHourPrice:en.happyHourPrice&&en.happyHourPrice>0?en.happyHourPrice:null,servingSize:en.servingSize||null,preparationTime:en.preparationTime||null};if(W){let{id:a,createdAt:s,updatedAt:r,section:n,orderItems:i,...l}=t;l.image&&""!==l.image||delete l.image;let c=await L.F.put("/enhanced-menu/items/".concat(W.id),l);e=c.data.data||c.data,R.Ay.success("Menu item updated")}else{let{id:a,...s}=t;console.log("Creating item with data:",s);let r=await L.F.post("/enhanced-menu/items",s);e=r.data.data||r.data,R.Ay.success("Menu item created")}if(ea&&(null==e?void 0:e.id)){let t=new FormData;t.append("image",ea);try{await L.F.post("/enhanced-menu/items/".concat(e.id,"/upload-image"),t,{headers:{"Content-Type":"multipart/form-data"}}),R.Ay.success("Image uploaded successfully")}catch(e){R.Ay.error("Failed to upload image")}}M(!1),et(null),es(null),ed()}catch(s){var e,t;console.error("Error saving menu item:",s);let a=(null==(t=s.response)||null==(e=t.data)?void 0:e.message)||s.message||"Failed to save menu item";R.Ay.error(a)}},em=async e=>{let t=a.find(t=>t.id===e);if(confirm('Are you sure you want to delete "'.concat((null==t?void 0:t.name)||"this item",'"?\n\nThis action cannot be undone.')))try{await L.F.delete("/enhanced-menu/items/".concat(e)),R.Ay.success('"'.concat(null==t?void 0:t.name,'" has been deleted')),ed()}catch(e){R.Ay.error("Failed to delete menu item")}},eh=async e=>{try{await L.F.patch("/enhanced-menu/items/".concat(e.id,"/toggle-availability")),R.Ay.success("Item ".concat(e.available?"made unavailable":"made available")),ed()}catch(e){R.Ay.error("Failed to toggle availability")}},ep=async e=>{try{await L.F.patch("/enhanced-menu/items/".concat(e.id,"/toggle-featured")),R.Ay.success("Item ".concat(e.featured?"unfeatured":"featured")),ed()}catch(e){R.Ay.error("Failed to toggle featured status")}},ex=async(e,t)=>{let a=new FormData;a.append("image",t);try{await L.F.post("/enhanced-menu/items/".concat(e,"/upload-image"),a,{headers:{"Content-Type":"multipart/form-data"}}),R.Ay.success("Image uploaded successfully"),ed()}catch(e){R.Ay.error("Failed to upload image")}},eg=a.filter(e=>{var t;let a=e.name.toLowerCase().includes(q.toLowerCase())||(null==(t=e.description)?void 0:t.toLowerCase().includes(q.toLowerCase())),s="all"===K||e.sectionId===K;return a&&s}),ef=O.map(e=>({section:e,items:eg.filter(t=>t.sectionId===e.id)}));return(0,s.jsxs)("div",{className:"p-6 max-w-7xl mx-auto",children:[(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Menu Management"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Manage menu items for regular menu, happy hour, and brunch"})]}),(0,s.jsxs)(g.tU,{value:e,onValueChange:e=>t(e),children:[(0,s.jsx)(g.j7,{className:"grid w-full grid-cols-4",children:Object.entries(eo).map(e=>{let[t,a]=e,r=a.icon;return(0,s.jsxs)(g.Xi,{value:t,className:"flex items-center gap-2",children:[(0,s.jsx)(r,{className:"h-4 w-4"}),a.label]},t)})}),(0,s.jsxs)(g.av,{value:e,className:"mt-6",children:[(0,s.jsx)(n.Zp,{className:"mb-6",children:(0,s.jsx)(n.Wu,{className:"pt-6",children:(0,s.jsxs)("div",{className:"flex justify-between items-center gap-4",children:[(0,s.jsxs)("div",{className:"flex gap-2 flex-1",children:[(0,s.jsxs)("div",{className:"relative flex-1 max-w-sm",children:[(0,s.jsx)(w.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,s.jsx)(u.p,{placeholder:"Search menu items...",value:q,onChange:e=>X(e.target.value),className:"pl-10"})]}),(0,s.jsxs)("select",{className:"flex h-10 w-[200px] rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-400",value:K,onChange:e=>Q(e.target.value),children:[(0,s.jsx)("option",{value:"all",children:"All Sections"}),O.map(e=>(0,s.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(d.$,{variant:"outline",onClick:()=>_(!0),children:[(0,s.jsx)(A.A,{className:"h-4 w-4 mr-2"}),"Add Section"]}),(0,s.jsxs)(d.$,{onClick:()=>{var t;Z(null),ei({name:"",description:"",category:"APPETIZER",menuType:e,sectionId:null==(t=O[0])?void 0:t.id,price:0,happyHourPrice:void 0,servingSize:"",preparationTime:15,available:!0,featured:!1,sortOrder:a.length,tags:[],allergens:[]}),et(null),es(null),M(!0)},children:[(0,s.jsx)(A.A,{className:"h-4 w-4 mr-2"}),"Add Menu Item"]})]})]})})}),U?(0,s.jsx)(n.Zp,{children:(0,s.jsx)(n.Wu,{className:"py-8 text-center",children:"Loading menu items..."})}):0===ef.length?(0,s.jsx)(n.Zp,{children:(0,s.jsxs)(n.Wu,{className:"py-8 text-center",children:[(0,s.jsx)("p",{className:"text-muted-foreground mb-4",children:"No sections yet"}),(0,s.jsxs)(d.$,{onClick:()=>_(!0),children:[(0,s.jsx)(A.A,{className:"h-4 w-4 mr-2"}),"Create First Section"]})]})}):ef.map(t=>{let{section:a,items:r}=t;return(0,s.jsxs)(n.Zp,{className:"mb-4",children:[(0,s.jsx)(n.aR,{children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(n.ZB,{children:a.name}),a.description&&(0,s.jsx)(n.BT,{children:a.description})]}),(0,s.jsx)(d.$,{variant:"outline",size:"sm",onClick:()=>{Y(a),ec(a),_(!0)},children:(0,s.jsx)(C.A,{className:"h-4 w-4"})})]})}),(0,s.jsx)(n.Wu,{children:0===r.length?(0,s.jsx)("div",{className:"text-center py-4 text-muted-foreground",children:"No items in this section"}):(0,s.jsxs)(v.XI,{children:[(0,s.jsx)(v.A0,{children:(0,s.jsxs)(v.Hj,{children:[(0,s.jsx)(v.nd,{className:"w-[50px]",children:"\xa0"}),(0,s.jsx)(v.nd,{children:"Item"}),(0,s.jsx)(v.nd,{children:"Price"}),"HAPPY_HOUR"===e&&(0,s.jsx)(v.nd,{children:"Happy Hour Price"}),(0,s.jsx)(v.nd,{children:"Category"}),(0,s.jsx)(v.nd,{children:"Status"}),(0,s.jsx)(v.nd,{children:"Actions"})]})}),(0,s.jsx)(v.BF,{children:r.map((t,a)=>(0,s.jsxs)(v.Hj,{children:[(0,s.jsx)(v.nA,{children:t.image?(0,s.jsx)("img",{src:(0,z.VG)(t.image),alt:t.name,className:"w-12 h-12 rounded object-cover"}):(0,s.jsx)("div",{className:"w-12 h-12 rounded bg-muted flex items-center justify-center",children:(0,s.jsx)(S.A,{className:"h-6 w-6 text-muted-foreground"})})}),(0,s.jsx)(v.nA,{children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"font-medium flex items-center gap-2",children:[t.name,t.featured&&(0,s.jsx)(N.A,{className:"h-4 w-4 text-yellow-500"})]}),(0,s.jsx)("div",{className:"text-sm text-muted-foreground line-clamp-2",children:t.description}),t.servingSize&&(0,s.jsxs)("div",{className:"text-xs text-muted-foreground mt-1",children:["Serving: ",t.servingSize]})]})}),(0,s.jsx)(v.nA,{children:l(t.price)}),"HAPPY_HOUR"===e&&(0,s.jsx)(v.nA,{children:t.happyHourPrice?(0,s.jsx)("span",{className:"text-green-600",children:l(t.happyHourPrice)}):"-"}),(0,s.jsx)(v.nA,{children:(0,s.jsx)("span",{className:"text-xs px-2 py-1 rounded bg-muted",children:t.category})}),(0,s.jsx)(v.nA,{children:(0,s.jsxs)("div",{className:"flex gap-1",children:[(0,s.jsx)(d.$,{variant:t.available?"default":"secondary",size:"sm",onClick:()=>eh(t),children:t.available?(0,s.jsx)(P.A,{className:"h-3 w-3"}):(0,s.jsx)(F.A,{className:"h-3 w-3"})}),(0,s.jsx)(d.$,{variant:t.featured?"default":"outline",size:"sm",onClick:()=>ep(t),children:(0,s.jsx)(N.A,{className:"h-3 w-3"})})]})}),(0,s.jsx)(v.nA,{children:(0,s.jsxs)("div",{className:"flex gap-1",children:[(0,s.jsx)("input",{type:"file",id:"image-".concat(t.id),className:"hidden",accept:"image/*",onChange:e=>{var a;(null==(a=e.target.files)?void 0:a[0])&&ex(t.id,e.target.files[0])}}),(0,s.jsx)(d.$,{variant:"outline",size:"sm",onClick:()=>{var e;return null==(e=document.getElementById("image-".concat(t.id)))?void 0:e.click()},title:"Upload image",children:(0,s.jsx)(k.A,{className:"h-3 w-3"})}),(0,s.jsx)(d.$,{variant:"outline",size:"sm",onClick:()=>{Z(t),ei({...t,price:i(t.price),happyHourPrice:t.happyHourPrice?i(t.happyHourPrice):void 0,tags:c(t.tags),allergens:c(t.allergens)}),et(t.image?(0,z.VG)(t.image):null),es(null),M(!0)},children:(0,s.jsx)(C.A,{className:"h-3 w-3"})}),(0,s.jsx)(d.$,{variant:"outline",size:"sm",onClick:()=>{Z(null),ei({...t,name:"".concat(t.name," (Copy)"),id:void 0,price:i(t.price),happyHourPrice:t.happyHourPrice?i(t.happyHourPrice):void 0,tags:c(t.tags),allergens:c(t.allergens)}),et(t.image?(0,z.VG)(t.image):null),es(null),M(!0)},title:"Duplicate",children:(0,s.jsx)(E.A,{className:"h-3 w-3"})}),(0,s.jsx)(d.$,{variant:"outline",size:"sm",onClick:()=>em(t.id),children:(0,s.jsx)(I.A,{className:"h-3 w-3"})})]})})]},t.id))})]})})]},a.id)})]})]}),(0,s.jsx)(f.lG,{open:G,onOpenChange:e=>{M(e),e||(et(null),es(null))},children:(0,s.jsxs)(f.Cf,{className:"max-w-2xl max-h-[80vh] overflow-y-auto bg-white text-gray-900",children:[(0,s.jsxs)(f.c7,{children:[(0,s.jsx)(f.L3,{children:W?"Edit Menu Item":"Add Menu Item"}),(0,s.jsx)(f.rr,{children:"Fill in the details for the menu item"})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"border rounded-lg p-4 space-y-3",children:[(0,s.jsx)(m.J,{children:"Item Image"}),(0,s.jsxs)("div",{className:"flex gap-4",children:[ee&&(0,s.jsxs)("div",{className:"relative w-24 h-24",children:[(0,s.jsx)("img",{src:ee,alt:"Preview",className:"w-full h-full object-cover rounded border"}),(0,s.jsx)(d.$,{type:"button",variant:"destructive",size:"sm",className:"absolute -top-2 -right-2 h-6 w-6 p-0",onClick:()=>{et(null),es(null),er.current&&(er.current.value="")},children:(0,s.jsx)(H.A,{className:"h-3 w-3"})})]}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("input",{ref:er,type:"file",id:"dialog-image",className:"hidden",accept:"image/jpeg,image/jpg,image/png,image/webp,image/gif",onChange:e=>{var t;let a=null==(t=e.target.files)?void 0:t[0];if(a){if(!["image/jpeg","image/jpg","image/png","image/webp","image/gif"].includes(a.type))return void R.Ay.error("Please select a valid image file (JPG, PNG, WebP, or GIF)");if(a.size>5242880)return void R.Ay.error("Image size should be less than 5MB");es(a);let e=new FileReader;e.onloadend=()=>{et(e.result)},e.readAsDataURL(a)}}}),(0,s.jsxs)(d.$,{type:"button",variant:"outline",onClick:()=>{var e;return null==(e=er.current)?void 0:e.click()},className:"w-full",children:[(0,s.jsx)(S.A,{className:"h-4 w-4 mr-2"}),ee?"Change Image":"Upload Image"]}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground mt-2",children:"Accepted formats: JPG, PNG, WebP, GIF (Max 5MB)"})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(m.J,{htmlFor:"name",className:"text-gray-700 font-medium",children:"Item Name *"}),(0,s.jsx)(u.p,{id:"name",name:"name",value:en.name,onChange:e=>ei({...en,name:e.target.value}),placeholder:"Grilled Chicken Sandwich",className:"bg-white border-gray-300 text-gray-900"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(m.J,{htmlFor:"category",className:"text-gray-700 font-medium",children:"Category *"}),(0,s.jsxs)("select",{id:"category",name:"category",className:"flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-400",value:en.category||"",onChange:e=>{console.log("Category changed to:",e.target.value),ei(t=>({...t,category:e.target.value}))},children:[(0,s.jsx)("option",{value:"",children:"Select a category"}),["APPETIZER","ENTREE","DESSERT","DRINK","BEER","WINE","COCKTAIL","NON_ALCOHOLIC","SPECIAL"].map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(m.J,{htmlFor:"description",children:"Description"}),(0,s.jsx)(h.T,{id:"description",value:en.description,onChange:e=>ei({...en,description:e.target.value}),placeholder:"Juicy grilled chicken breast with lettuce, tomato...",rows:3})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(m.J,{htmlFor:"section",className:"text-gray-700 font-medium",children:"Section"}),(0,s.jsxs)("select",{id:"section",name:"section",className:"flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-400",value:en.sectionId||"",onChange:e=>{console.log("Section changed to:",e.target.value),ei(t=>({...t,sectionId:e.target.value}))},children:[(0,s.jsx)("option",{value:"",children:"Select section"}),O.map(e=>(0,s.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(m.J,{htmlFor:"servingSize",children:"Serving Size"}),(0,s.jsx)(u.p,{id:"servingSize",value:en.servingSize,onChange:e=>ei({...en,servingSize:e.target.value}),placeholder:"8 oz"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(m.J,{htmlFor:"price",children:"Price *"}),(0,s.jsx)(u.p,{id:"price",type:"number",step:"0.01",value:en.price,onChange:e=>ei({...en,price:parseFloat(e.target.value)})})]}),"HAPPY_HOUR"===e&&(0,s.jsxs)("div",{children:[(0,s.jsx)(m.J,{htmlFor:"happyHourPrice",children:"Happy Hour Price"}),(0,s.jsx)(u.p,{id:"happyHourPrice",type:"number",step:"0.01",value:en.happyHourPrice||"",onChange:e=>ei({...en,happyHourPrice:e.target.value?parseFloat(e.target.value):void 0})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(m.J,{htmlFor:"preparationTime",children:"Prep Time (min)"}),(0,s.jsx)(u.p,{id:"preparationTime",type:"number",value:en.preparationTime,onChange:e=>ei({...en,preparationTime:parseInt(e.target.value)})})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(m.J,{htmlFor:"tags",children:"Tags (comma separated)"}),(0,s.jsx)(u.p,{id:"tags",value:Array.isArray(en.tags)?en.tags.join(", "):"",onChange:e=>ei({...en,tags:e.target.value.split(",").map(e=>e.trim()).filter(Boolean)}),placeholder:"spicy, vegetarian, gluten-free"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(m.J,{htmlFor:"allergens",children:"Allergens (comma separated)"}),(0,s.jsx)(u.p,{id:"allergens",value:Array.isArray(en.allergens)?en.allergens.join(", "):"",onChange:e=>ei({...en,allergens:e.target.value.split(",").map(e=>e.trim()).filter(Boolean)}),placeholder:"nuts, dairy, gluten"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(p.d,{id:"available",checked:en.available,onCheckedChange:e=>ei({...en,available:e})}),(0,s.jsx)(m.J,{htmlFor:"available",children:"Available"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(p.d,{id:"featured",checked:en.featured,onCheckedChange:e=>ei({...en,featured:e})}),(0,s.jsx)(m.J,{htmlFor:"featured",children:"Featured"})]})]})]}),(0,s.jsxs)(f.Es,{children:[(0,s.jsx)(d.$,{variant:"outline",onClick:()=>M(!1),children:"Cancel"}),(0,s.jsxs)(d.$,{onClick:eu,children:[(0,s.jsx)(T.A,{className:"h-4 w-4 mr-2"}),"Save Item"]})]})]})}),(0,s.jsx)(f.lG,{open:B,onOpenChange:_,children:(0,s.jsxs)(f.Cf,{children:[(0,s.jsxs)(f.c7,{children:[(0,s.jsx)(f.L3,{children:V?"Edit Section":"Add Section"}),(0,s.jsx)(f.rr,{children:"Create sections to organize your menu items"})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(m.J,{htmlFor:"sectionName",children:"Section Name *"}),(0,s.jsx)(u.p,{id:"sectionName",value:el.name,onChange:e=>ec({...el,name:e.target.value}),placeholder:"Appetizers"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(m.J,{htmlFor:"sectionDescription",children:"Description"}),(0,s.jsx)(h.T,{id:"sectionDescription",value:el.description,onChange:e=>ec({...el,description:e.target.value}),placeholder:"Start your meal with our delicious appetizers",rows:2})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(m.J,{htmlFor:"displayMode",children:"Display Mode"}),(0,s.jsxs)(x.l6,{value:el.displayMode||"FULL_DETAILS",onValueChange:e=>ec({...el,displayMode:e}),children:[(0,s.jsx)(x.bq,{children:(0,s.jsx)(x.yv,{placeholder:"Select display mode"})}),(0,s.jsxs)(x.gC,{children:[(0,s.jsx)(x.eb,{value:"FULL_DETAILS",children:"Show Details (title, description, price, image)"}),(0,s.jsx)(x.eb,{value:"TITLE_ONLY",children:"Title Only (just the item name)"})]})]}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Choose how menu items in this section appear on the frontend"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(m.J,{htmlFor:"sortOrder",children:"Sort Order"}),(0,s.jsx)(u.p,{id:"sortOrder",type:"number",value:el.sortOrder,onChange:e=>ec({...el,sortOrder:parseInt(e.target.value)})})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(p.d,{id:"sectionActive",checked:el.isActive,onCheckedChange:e=>ec({...el,isActive:e})}),(0,s.jsx)(m.J,{htmlFor:"sectionActive",children:"Active"})]})]}),(0,s.jsxs)(f.Es,{children:[(0,s.jsx)(d.$,{variant:"outline",onClick:()=>_(!1),children:"Cancel"}),(0,s.jsxs)(d.$,{onClick:async()=>{try{let t={...el,menuType:e};V?(await L.F.put("/enhanced-menu/sections/".concat(V.id),t),R.Ay.success("Section updated")):(await L.F.post("/enhanced-menu/sections",t),R.Ay.success("Section created")),_(!1),ed()}catch(e){R.Ay.error("Failed to save section")}},children:[(0,s.jsx)(T.A,{className:"h-4 w-4 mr-2"}),"Save Section"]})]})]})})]})}},89678:(e,t,a)=>{"use strict";a.d(t,{F:()=>n});var s=a(95125);let r=a(51431),n=s.A.create({baseURL:"http://72.167.227.205:5001/api",headers:{"Content-Type":"application/json"},withCredentials:!0});n.interceptors.request.use(e=>{let t=r.get("auth-token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),n.interceptors.response.use(e=>e,e=>{var t;return(null==(t=e.response)?void 0:t.status)===401&&(r.remove("auth-token"),window.location.pathname.startsWith("/admin")&&(window.location.href="/login")),Promise.reject(e)})}},e=>{e.O(0,[2663,5125,4022,7243,8863,8441,1255,7358],()=>e(e.s=86783)),_N_E=e.O()}]);