(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4662],{42743:(e,s,a)=>{Promise.resolve().then(a.bind(a,58051))},46830:(e,s,a)=>{"use strict";a.d(s,{H$:()=>t,H2:()=>n,Rn:()=>r,si:()=>l});let l="https://staging.kockys.com",t="".concat("https://staging.kockys.com").concat("/api"),r="https://staging.kockys.com",n="".concat(r).concat("/uploads")},58051:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>T});var l=a(95155),t=a(12115),r=a(1733),n=a(99776),i=a(22454),o=a(80549),c=a(89678);let d={get:async()=>{try{let e=await fetch("http://127.0.0.1:5001/api/settings",{method:"GET",headers:{Accept:"application/json","Cache-Control":"no-store, no-cache, must-revalidate, proxy-revalidate",Pragma:"no-cache",Expires:"0"},cache:"no-store"});if(!e.ok)throw Error("Backend API error: ".concat(e.status));let s=await e.json();return{success:!0,settings:s}}catch(e){throw console.error("Failed to fetch settings:",e),e}},update:async e=>{try{let s=await fetch("http://127.0.0.1:5001/api/settings",{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json","Cache-Control":"no-store, no-cache, must-revalidate, proxy-revalidate",Pragma:"no-cache",Expires:"0"},body:JSON.stringify(e),cache:"no-store"});if(!s.ok)throw Error("Backend API error: ".concat(s.status));return await s.json()}catch(e){throw console.error("Failed to update settings:",e),e}},testEmail:async e=>(await c.F.post("/settings/test-email","string"==typeof e?{email:e}:e)).data,resetToDefaults:async()=>(await c.F.post("/settings/reset")).data};var m=a(39068),u=a(39926),x=a(69141),p=a(26983),g=a(23664),h=a(89559),b=a(78519),y=a(86651),j=a(17910),f=a(21786),v=a(73155),N=a(67161),w=a(97378),A=a(20064),k=a(27816),C=a(18085),S=a(15870),P=a(91078),M=a(46046),E=a(22663);function T(){var e,s,a,c,T,D,R,q,F,I,H,G,K,U,O,B,L,_,X,z,Q,$,Y,J,V,W,Z,ee,es,ea,el,et,er,en,ei,eo,ec,ed,em,eu,ex,ep,eg,eh,eb,ey,ej;let[ef,ev]=(0,t.useState)("general"),eN=(0,n.jE)(),ew=(0,t.useRef)(null),eA=(0,t.useRef)(null),{data:ek,isLoading:eC,error:eS}=(0,i.I)({queryKey:["site-settings"],queryFn:d.get,retry:3,staleTime:0,cacheTime:0}),eP=(0,o.n)({mutationFn:e=>d.update(e),onSuccess:()=>{eN.invalidateQueries({queryKey:["site-settings"]}),E.default.success("Settings updated successfully")},onError:e=>{var s,a;console.error("Settings update error:",e),E.default.error((null==e||null==(a=e.response)||null==(s=a.data)?void 0:s.message)||"Failed to update settings")}}),eM=(0,o.n)({mutationFn:e=>d.testEmail(e),onSuccess:()=>{E.default.success("Test email sent successfully")},onError:()=>{E.default.error("Failed to send test email")}}),eE=(0,o.n)({mutationFn:d.resetToDefaults,onSuccess:()=>{eN.invalidateQueries({queryKey:["site-settings"]}),E.default.success("Settings reset to defaults")},onError:()=>{E.default.error("Failed to reset settings")}}),[eT,eD]=(0,t.useState)({siteName:"Kocky's Bar & Grill",siteDescription:"The best bar and grill experience in town",primaryColor:"#FF6B35",secondaryColor:"#004E64",accentColor:"#F7931E",logoUrl:"",heroImageUrl:"",contactEmail:"info@kockysbar.com",contactPhone:"(555) 123-4567",contactAddress:"123 Main Street, City, State 12345",socialMedia:{facebook:"https://facebook.com/kockysbar",instagram:"https://instagram.com/kockysbar",twitter:"https://twitter.com/kockysbar",youtube:""},businessHours:{monday:"11:00 AM - 10:00 PM",tuesday:"11:00 AM - 10:00 PM",wednesday:"11:00 AM - 10:00 PM",thursday:"11:00 AM - 11:00 PM",friday:"11:00 AM - 12:00 AM",saturday:"10:00 AM - 12:00 AM",sunday:"10:00 AM - 9:00 PM"},emailSettings:{smtpHost:"smtp.sendgrid.net",smtpPort:587,smtpUser:"apikey",fromEmail:"noreply@kockysbar.com",fromName:"Kocky's Bar & Grill"},paymentSettings:{stripePublicKey:"",enableOnlinePayment:!0,taxRate:8.5},seoSettings:{metaTitle:"Kocky's Bar & Grill - Best Food, Drinks & Atmosphere",metaDescription:"Experience the best bar and grill in town. Great food, amazing drinks, and the perfect atmosphere.",metaKeywords:"bar, grill, restaurant, food, drinks, happy hour",googleAnalyticsId:""}});(0,t.useEffect)(()=>{(null==ek?void 0:ek.settings)?eD(e=>({...e,...ek.settings})):ek&&!ek.settings&&eD(e=>({...e,...ek}))},[ek]);let eR=[{id:"general",label:"General",icon:m.A},{id:"appearance",label:"Appearance",icon:u.A},{id:"contact",label:"Contact",icon:x.A},{id:"business",label:"Business Hours",icon:p.A},{id:"email",label:"Email Setup",icon:g.A},{id:"email-mgmt",label:"Email Management",icon:h.A},{id:"payment",label:"Payment",icon:b.A},{id:"seo",label:"SEO",icon:y.A},{id:"security",label:"Security",icon:j.A}];return(0,l.jsxs)("div",{className:"p-6",children:[(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold mb-2",children:"Site Settings"}),(0,l.jsx)("p",{className:"text-gray-600",children:"Configure your website settings and preferences"})]}),(0,l.jsx)("div",{className:"bg-white rounded-lg shadow-sm mb-6",children:(0,l.jsx)("div",{className:"border-b",children:(0,l.jsx)("div",{className:"flex overflow-x-auto",children:eR.map(e=>{let s=e.icon;return(0,l.jsxs)("button",{onClick:()=>ev(e.id),className:"flex items-center gap-2 px-4 py-3 border-b-2 whitespace-nowrap transition-colors ".concat(ef===e.id?"border-orange-500 text-orange-600":"border-transparent text-gray-600 hover:text-gray-900"),children:[(0,l.jsx)(s,{className:"w-4 h-4"}),e.label]},e.id)})})})}),(0,l.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:eC?(0,l.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,l.jsx)(r.P.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-12 h-12 border-4 border-orange-500 border-t-transparent rounded-full"})}):(0,l.jsxs)(l.Fragment,{children:["general"===ef&&(0,l.jsxs)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-4",children:[(0,l.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"General Settings"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Site Name"}),(0,l.jsx)("input",{type:"text",value:eT.siteName,onChange:e=>eD({...eT,siteName:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Site Description"}),(0,l.jsx)("textarea",{value:eT.siteDescription,onChange:e=>eD({...eT,siteDescription:e.target.value}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Logo"}),(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsx)("input",{ref:ew,type:"file",accept:"image/*",onChange:e=>{var s;(null==(s=e.target.files)?void 0:s[0])&&E.default.success("Logo uploaded")},className:"hidden"}),(0,l.jsxs)("button",{onClick:()=>{var e;return null==(e=ew.current)?void 0:e.click()},className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2",children:[(0,l.jsx)(f.A,{className:"w-4 h-4"}),"Upload Logo"]}),eT.logoUrl&&(0,l.jsx)("img",{src:eT.logoUrl,alt:"Logo",className:"h-12"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Hero Image"}),(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsx)("input",{ref:eA,type:"file",accept:"image/*,video/*",onChange:e=>{var s;(null==(s=e.target.files)?void 0:s[0])&&E.default.success("Hero image uploaded")},className:"hidden"}),(0,l.jsxs)("button",{onClick:()=>{var e;return null==(e=eA.current)?void 0:e.click()},className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2",children:[(0,l.jsx)(f.A,{className:"w-4 h-4"}),"Upload Hero"]})]})]})]}),"appearance"===ef&&(0,l.jsxs)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-4",children:[(0,l.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Appearance Settings"}),(0,l.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Primary Color"}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("input",{type:"color",value:eT.primaryColor,onChange:e=>eD({...eT,primaryColor:e.target.value}),className:"w-12 h-12 rounded border border-gray-300"}),(0,l.jsx)("input",{type:"text",value:eT.primaryColor,onChange:e=>eD({...eT,primaryColor:e.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Secondary Color"}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("input",{type:"color",value:eT.secondaryColor,onChange:e=>eD({...eT,secondaryColor:e.target.value}),className:"w-12 h-12 rounded border border-gray-300"}),(0,l.jsx)("input",{type:"text",value:eT.secondaryColor,onChange:e=>eD({...eT,secondaryColor:e.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Accent Color"}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("input",{type:"color",value:eT.accentColor,onChange:e=>eD({...eT,accentColor:e.target.value}),className:"w-12 h-12 rounded border border-gray-300"}),(0,l.jsx)("input",{type:"text",value:eT.accentColor,onChange:e=>eD({...eT,accentColor:e.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg"})]})]})]}),(0,l.jsxs)("div",{className:"p-6 bg-gray-50 rounded-lg",children:[(0,l.jsx)("h3",{className:"font-medium mb-4",children:"Color Preview"}),(0,l.jsxs)("div",{className:"flex gap-4",children:[(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"w-24 h-24 rounded-lg shadow-md mb-2",style:{backgroundColor:eT.primaryColor}}),(0,l.jsx)("span",{className:"text-sm",children:"Primary"})]}),(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"w-24 h-24 rounded-lg shadow-md mb-2",style:{backgroundColor:eT.secondaryColor}}),(0,l.jsx)("span",{className:"text-sm",children:"Secondary"})]}),(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"w-24 h-24 rounded-lg shadow-md mb-2",style:{backgroundColor:eT.accentColor}}),(0,l.jsx)("span",{className:"text-sm",children:"Accent"})]})]})]})]}),"contact"===ef&&(0,l.jsxs)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-4",children:[(0,l.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Contact Information"}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Contact Email"}),(0,l.jsx)("input",{type:"email",value:eT.contactEmail,onChange:e=>eD({...eT,contactEmail:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Contact Phone"}),(0,l.jsx)("input",{type:"tel",value:eT.contactPhone,onChange:e=>eD({...eT,contactPhone:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Address"}),(0,l.jsx)("input",{type:"text",value:eT.contactAddress,onChange:e=>eD({...eT,contactAddress:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"font-medium mb-3",children:"Social Media"}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)(v.A,{className:"w-5 h-5 text-blue-600"}),(0,l.jsx)("input",{type:"url",placeholder:"Facebook URL",value:(null==(e=eT.socialMedia)?void 0:e.facebook)||"",onChange:e=>eD({...eT,socialMedia:{...eT.socialMedia,facebook:e.target.value}}),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500"})]}),(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)(N.A,{className:"w-5 h-5 text-pink-600"}),(0,l.jsx)("input",{type:"url",placeholder:"Instagram URL",value:(null==(s=eT.socialMedia)?void 0:s.instagram)||"",onChange:e=>eD({...eT,socialMedia:{...eT.socialMedia,instagram:e.target.value}}),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500"})]}),(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)(w.A,{className:"w-5 h-5 text-blue-400"}),(0,l.jsx)("input",{type:"url",placeholder:"Twitter URL",value:(null==(a=eT.socialMedia)?void 0:a.twitter)||"",onChange:e=>eD({...eT,socialMedia:{...eT.socialMedia,twitter:e.target.value}}),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500"})]}),(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)(A.A,{className:"w-5 h-5 text-red-600"}),(0,l.jsx)("input",{type:"url",placeholder:"YouTube URL",value:(null==(c=eT.socialMedia)?void 0:c.youtube)||"",onChange:e=>eD({...eT,socialMedia:{...eT.socialMedia,youtube:e.target.value}}),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500"})]})]})]})]}),"business"===ef&&(0,l.jsxs)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-4",children:[(0,l.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Business Hours"}),(0,l.jsx)("div",{className:"space-y-3",children:Object.entries(eT.businessHours||{}).map(e=>{let[s,a]=e;return(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsxs)("span",{className:"w-24 text-sm font-medium capitalize",children:[s,":"]}),(0,l.jsx)("input",{type:"text",value:a,onChange:e=>eD({...eT,businessHours:{...eT.businessHours,[s]:e.target.value}}),placeholder:"e.g., 11:00 AM - 10:00 PM",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500"})]},s)})})]}),"email"===ef&&(0,l.jsxs)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("h2",{className:"text-lg font-semibold",children:"Multiple Email Accounts"}),(0,l.jsx)("div",{className:"text-sm text-gray-500",children:"Configure different email accounts for various purposes"})]}),(0,l.jsxs)("div",{className:"border border-gray-200 rounded-lg p-6",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,l.jsx)(g.A,{className:"w-5 h-5 text-blue-500"}),(0,l.jsx)("h3",{className:"text-lg font-medium",children:"Quotes Email Account"}),(0,l.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full",children:"Mike@Kockys.com"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-1",children:"SMTP Host"}),(0,l.jsx)("input",{type:"text",value:"smtp.office365.com",readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-1",children:"SMTP Port"}),(0,l.jsx)("input",{type:"number",value:"587",readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Email Address"}),(0,l.jsx)("input",{type:"email",value:"Mike@Kockys.com",onChange:e=>{var s;return eD({...eT,emailAccounts:{...eT.emailAccounts,quotes:{...null==(s=eT.emailAccounts)?void 0:s.quotes,email:e.target.value}}})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Display Name"}),(0,l.jsx)("input",{type:"text",value:"QUOTE",onChange:e=>{var s;return eD({...eT,emailAccounts:{...eT.emailAccounts,quotes:{...null==(s=eT.emailAccounts)?void 0:s.quotes,displayName:e.target.value}}})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,l.jsxs)("div",{className:"col-span-2",children:[(0,l.jsxs)("label",{className:"block text-sm font-medium mb-1",children:["Microsoft 365 App Password",(0,l.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,l.jsx)("form",{children:(0,l.jsx)("input",{type:"password",placeholder:"Enter your 16-character app password from Microsoft 365",value:(null==(D=eT.emailAccounts)||null==(T=D.quotes)?void 0:T.password)||"",onChange:e=>{var s;return eD({...eT,emailAccounts:{...eT.emailAccounts,quotes:{...null==(s=eT.emailAccounts)?void 0:s.quotes,password:e.target.value}}})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),(0,l.jsxs)("div",{className:"mt-2 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[(0,l.jsxs)("p",{className:"text-sm text-yellow-800",children:[(0,l.jsx)("strong",{children:"⚠️ Required:"})," You need to generate an app password for Mike@Kockys.com"]}),(0,l.jsx)("p",{className:"text-xs text-yellow-700 mt-1",children:"Go to Microsoft 365 Admin → Users → Mike@Kockys.com → Mail apps → Generate app password"})]})]})]})]}),(0,l.jsxs)("div",{className:"border border-gray-200 rounded-lg p-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(g.A,{className:"w-5 h-5 text-green-500"}),(0,l.jsx)("h3",{className:"text-lg font-medium",children:"Support Email Account"}),(null==(q=eT.emailAccounts)||null==(R=q.support)?void 0:R.email)&&(0,l.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs rounded-full",children:eT.emailAccounts.support.email})]}),(null==(I=eT.emailAccounts)||null==(F=I.support)?void 0:F.email)&&(0,l.jsxs)("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs rounded-full flex items-center gap-1",children:[(0,l.jsx)(k.A,{className:"w-3 h-3"}),"Connected"]})]}),(null==(G=eT.emailAccounts)||null==(H=G.support)?void 0:H.email)?(0,l.jsx)("div",{className:"space-y-4",children:(0,l.jsxs)("div",{className:"flex items-center justify-between p-4 bg-green-50 border border-green-200 rounded-lg",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"font-medium text-green-800",children:eT.emailAccounts.support.displayName}),(0,l.jsx)("p",{className:"text-sm text-green-600",children:eT.emailAccounts.support.email}),(0,l.jsx)("p",{className:"text-xs text-green-500",children:"Connected via OAuth2 • Auto-refresh enabled"})]}),(0,l.jsx)("button",{onClick:async()=>{E.default.success("Support account disconnected")},className:"px-3 py-1 text-xs text-red-600 border border-red-200 rounded hover:bg-red-50",children:"Disconnect"})]})}):(0,l.jsxs)("div",{className:"text-center py-8",children:[(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)(g.A,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,l.jsx)("h4",{className:"text-lg font-medium text-gray-700 mb-2",children:"Connect Your Support Email"}),(0,l.jsx)("p",{className:"text-sm text-gray-500 mb-6",children:"Sign in to handle customer support and general inquiries"})]}),(0,l.jsxs)("button",{onClick:async()=>{try{let e=await fetch("/api/oauth/microsoft/support/auth",{method:"POST"}),s=await e.json();s.success?window.location.href=s.authUrl:E.default.error(s.message||"Failed to initiate OAuth flow")}catch(e){E.default.error("Failed to connect support email account")}},className:"inline-flex items-center gap-2 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:[(0,l.jsxs)("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:[(0,l.jsx)("path",{d:"M23.5 12c0-6.351-5.149-11.5-11.5-11.5S.5 5.649.5 12 5.649 23.5 12 23.5 23.5 18.351 23.5 12zm-2.166 0c0 5.175-4.159 9.334-9.334 9.334S2.666 17.175 2.666 12 6.825 2.666 12 2.666 21.334 6.825 21.334 12z"}),(0,l.jsx)("path",{d:"M12 7.5c-2.485 0-4.5 2.015-4.5 4.5s2.015 4.5 4.5 4.5 4.5-2.015 4.5-4.5-2.015-4.5-4.5-4.5zm0 7.5c-1.654 0-3-1.346-3-3s1.346-3 3-3 3 1.346 3 3-1.346 3-3 3z"})]}),"Sign in with GoDaddy / Microsoft 365"]}),(0,l.jsx)("p",{className:"text-xs text-gray-500 mt-3",children:"Perfect for customer support and help desk emails"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-1",children:"SMTP Host"}),(0,l.jsx)("input",{type:"text",placeholder:"smtp.gmail.com",value:(null==(U=eT.emailAccounts)||null==(K=U.support)?void 0:K.smtpHost)||"",onChange:e=>{var s;return eD({...eT,emailAccounts:{...eT.emailAccounts,support:{...null==(s=eT.emailAccounts)?void 0:s.support,smtpHost:e.target.value}}})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-1",children:"SMTP Port"}),(0,l.jsx)("input",{type:"number",placeholder:"587",value:(null==(B=eT.emailAccounts)||null==(O=B.support)?void 0:O.smtpPort)||"",onChange:e=>{var s;return eD({...eT,emailAccounts:{...eT.emailAccounts,support:{...null==(s=eT.emailAccounts)?void 0:s.support,smtpPort:parseInt(e.target.value)}}})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Email Address"}),(0,l.jsx)("input",{type:"email",placeholder:"support@kockysbar.com",value:(null==(_=eT.emailAccounts)||null==(L=_.support)?void 0:L.email)||"",onChange:e=>{var s;return eD({...eT,emailAccounts:{...eT.emailAccounts,support:{...null==(s=eT.emailAccounts)?void 0:s.support,email:e.target.value}}})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Display Name"}),(0,l.jsx)("input",{type:"text",placeholder:"Kocky's Support",value:(null==(z=eT.emailAccounts)||null==(X=z.support)?void 0:X.displayName)||"",onChange:e=>{var s;return eD({...eT,emailAccounts:{...eT.emailAccounts,support:{...null==(s=eT.emailAccounts)?void 0:s.support,displayName:e.target.value}}})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"})]}),(0,l.jsxs)("div",{className:"col-span-2",children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-1",children:"App Password"}),(0,l.jsx)("form",{children:(0,l.jsx)("input",{type:"password",placeholder:"Enter app-specific password",value:(null==($=eT.emailAccounts)||null==(Q=$.support)?void 0:Q.password)||"",onChange:e=>{var s;return eD({...eT,emailAccounts:{...eT.emailAccounts,support:{...null==(s=eT.emailAccounts)?void 0:s.support,password:e.target.value}}})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"})})]})]})]}),(0,l.jsxs)("div",{className:"border border-gray-200 rounded-lg p-6",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,l.jsx)(g.A,{className:"w-5 h-5 text-purple-500"}),(0,l.jsx)("h3",{className:"text-lg font-medium",children:"General Inquiries Email"}),(0,l.jsx)("span",{className:"px-2 py-1 bg-purple-100 text-purple-700 text-xs rounded-full",children:(null==(J=eT.emailAccounts)||null==(Y=J.general)?void 0:Y.email)||"info@kockysbar.com"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-1",children:"SMTP Host"}),(0,l.jsx)("input",{type:"text",placeholder:"smtp.gmail.com",value:(null==(W=eT.emailAccounts)||null==(V=W.general)?void 0:V.smtpHost)||"",onChange:e=>{var s;return eD({...eT,emailAccounts:{...eT.emailAccounts,general:{...null==(s=eT.emailAccounts)?void 0:s.general,smtpHost:e.target.value}}})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-1",children:"SMTP Port"}),(0,l.jsx)("input",{type:"number",placeholder:"587",value:(null==(ee=eT.emailAccounts)||null==(Z=ee.general)?void 0:Z.smtpPort)||"",onChange:e=>{var s;return eD({...eT,emailAccounts:{...eT.emailAccounts,general:{...null==(s=eT.emailAccounts)?void 0:s.general,smtpPort:parseInt(e.target.value)}}})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Email Address"}),(0,l.jsx)("input",{type:"email",placeholder:"info@kockysbar.com",value:(null==(ea=eT.emailAccounts)||null==(es=ea.general)?void 0:es.email)||"",onChange:e=>{var s;return eD({...eT,emailAccounts:{...eT.emailAccounts,general:{...null==(s=eT.emailAccounts)?void 0:s.general,email:e.target.value}}})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Display Name"}),(0,l.jsx)("input",{type:"text",placeholder:"Kocky's Bar & Grill",value:(null==(et=eT.emailAccounts)||null==(el=et.general)?void 0:el.displayName)||"",onChange:e=>{var s;return eD({...eT,emailAccounts:{...eT.emailAccounts,general:{...null==(s=eT.emailAccounts)?void 0:s.general,displayName:e.target.value}}})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]}),(0,l.jsxs)("div",{className:"col-span-2",children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-1",children:"App Password"}),(0,l.jsx)("form",{children:(0,l.jsx)("input",{type:"password",placeholder:"Enter app-specific password",value:(null==(en=eT.emailAccounts)||null==(er=en.general)?void 0:er.password)||"",onChange:e=>{var s;return eD({...eT,emailAccounts:{...eT.emailAccounts,general:{...null==(s=eT.emailAccounts)?void 0:s.general,password:e.target.value}}})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})})]})]})]}),(0,l.jsxs)("div",{className:"border border-gray-200 rounded-lg p-6 bg-gray-50",children:[(0,l.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Default Settings"}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Default Account for Auto-Replies"}),(0,l.jsxs)("select",{value:eT.defaultEmailAccount||"general",onChange:e=>eD({...eT,defaultEmailAccount:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500",children:[(0,l.jsxs)("option",{value:"general",children:["General Inquiries (",(null==(eo=eT.emailAccounts)||null==(ei=eo.general)?void 0:ei.email)||"info@kockysbar.com",")"]}),(0,l.jsxs)("option",{value:"support",children:["Support (",(null==(ed=eT.emailAccounts)||null==(ec=ed.support)?void 0:ec.email)||"support@kockysbar.com",")"]}),(0,l.jsxs)("option",{value:"quotes",children:["Quotes (",(null==(eu=eT.emailAccounts)||null==(em=eu.quotes)?void 0:em.email)||"quotes@kockysbar.com",")"]})]}),(0,l.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"This account will be used for automatic inquiry confirmations"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Auto-Reply Status"}),(0,l.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,l.jsx)("input",{type:"checkbox",id:"auto-reply-enabled",checked:eT.autoReplyEnabled||!1,onChange:e=>eD({...eT,autoReplyEnabled:e.target.checked}),className:"rounded border-gray-300 text-orange-500 focus:ring-orange-500"}),(0,l.jsx)("label",{htmlFor:"auto-reply-enabled",className:"text-sm",children:"Enable automatic inquiry confirmations"})]})]})]})]}),(0,l.jsxs)("div",{className:"border border-orange-200 bg-orange-50 rounded-lg p-6",children:[(0,l.jsxs)("h3",{className:"font-medium mb-4 flex items-center gap-2",children:[(0,l.jsx)(k.A,{className:"w-5 h-5 text-orange-500"}),"Test Email Configuration"]}),(0,l.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Test Account"}),(0,l.jsxs)("select",{id:"test-account",className:"w-full px-4 py-2 border border-gray-300 rounded-lg",defaultValue:"quotes",children:[(0,l.jsx)("option",{value:"quotes",children:"Quotes Account"}),(0,l.jsx)("option",{value:"support",children:"Support Account"}),(0,l.jsx)("option",{value:"general",children:"General Account"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Test Email Address"}),(0,l.jsx)("input",{type:"email",placeholder:"Enter test email address",className:"w-full px-4 py-2 border border-gray-300 rounded-lg",id:"test-email"})]}),(0,l.jsx)("div",{className:"flex items-end",children:(0,l.jsxs)("button",{onClick:()=>{var e,s;let a=null==(e=document.getElementById("test-email"))?void 0:e.value,l=null==(s=document.getElementById("test-account"))?void 0:s.value;a&&l&&eM.mutate({email:a,account:l})},disabled:eM.isPending,className:"w-full px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 disabled:opacity-50 flex items-center justify-center gap-2",children:[eM.isPending?(0,l.jsx)(h.A,{className:"w-4 h-4 animate-spin"}):(0,l.jsx)(g.A,{className:"w-4 h-4"}),"Send Test Email"]})})]}),(0,l.jsx)("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:(0,l.jsxs)("p",{className:"text-sm text-blue-700",children:[(0,l.jsx)("strong",{children:"\uD83D\uDCA1 Pro Tip:"})," Make sure to use app-specific passwords for Gmail and Outlook accounts. Regular passwords won't work with SMTP authentication."]})})]})]}),"email-mgmt"===ef&&(0,l.jsxs)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("h2",{className:"text-lg font-semibold",children:"Email Management Dashboard"}),(0,l.jsx)("div",{className:"text-sm text-gray-500",children:"Microsoft 365 Integration & Email System"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,l.jsx)(g.A,{className:"w-6 h-6 text-blue-500"}),(0,l.jsx)("h3",{className:"font-semibold",children:"Email System Status"})]}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("span",{className:"text-sm text-gray-600",children:"SMTP Config:"}),(0,l.jsx)("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-700 text-xs rounded-full",children:"Needs Password"})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("span",{className:"text-sm text-gray-600",children:"Microsoft Graph:"}),(0,l.jsx)("span",{className:"px-2 py-1 bg-red-100 text-red-700 text-xs rounded-full",children:"Not Setup"})]}),(0,l.jsxs)("button",{onClick:()=>{let e=prompt("Enter test email address:");e&&eM.mutate({email:e,account:"quotes"})},className:"w-full mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center justify-center gap-2",children:[(0,l.jsx)(C.A,{className:"w-4 h-4"}),"Test Email Now"]})]})]}),(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,l.jsx)(S.A,{className:"w-6 h-6 text-green-500"}),(0,l.jsx)("h3",{className:"font-semibold",children:"Active Accounts"})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between p-2 bg-blue-50 rounded",children:[(0,l.jsx)("span",{className:"text-sm",children:"Mike@Kockys.com"}),(0,l.jsx)("span",{className:"text-xs text-blue-600",children:"Primary"})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[(0,l.jsx)("span",{className:"text-sm",children:"support@kockysbar.com"}),(0,l.jsx)("span",{className:"text-xs text-gray-500",children:"Pending"})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[(0,l.jsx)("span",{className:"text-sm",children:"info@kockysbar.com"}),(0,l.jsx)("span",{className:"text-xs text-gray-500",children:"Pending"})]})]})]}),(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,l.jsx)(h.A,{className:"w-6 h-6 text-purple-500"}),(0,l.jsx)("h3",{className:"font-semibold",children:"Quick Actions"})]}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsx)("button",{onClick:()=>ev("email"),className:"w-full px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700",children:"Go to Email Setup"}),(0,l.jsx)("button",{onClick:()=>window.open("/crm","_blank"),className:"w-full px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"Open CRM"})]})]})]}),(0,l.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,l.jsx)(P.A,{className:"w-5 h-5 text-red-600"}),(0,l.jsx)("h3",{className:"font-medium text-red-900",children:"Email System Issue"})]}),(0,l.jsxs)("p",{className:"text-red-800 mb-4",children:["Current error: ",(0,l.jsx)("code",{className:"bg-red-100 px-2 py-1 rounded text-sm",children:"535 Incorrect authentication data"})]}),(0,l.jsxs)("div",{className:"bg-red-100 p-4 rounded-lg",children:[(0,l.jsx)("p",{className:"text-sm text-red-900 font-medium mb-2",children:"\uD83D\uDD27 Quick Fix:"}),(0,l.jsxs)("ol",{className:"text-sm text-red-800 space-y-1 list-decimal list-inside",children:[(0,l.jsxs)("li",{children:["Click ",(0,l.jsx)("strong",{children:'"Go to Email Setup"'})," button above"]}),(0,l.jsxs)("li",{children:["Add your ",(0,l.jsx)("strong",{children:"Microsoft 365 app password"})," in the password field"]}),(0,l.jsxs)("li",{children:["Click ",(0,l.jsx)("strong",{children:'"Save Changes"'})]}),(0,l.jsx)("li",{children:"Come back here and test - should work immediately!"})]})]})]}),(0,l.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,l.jsx)(k.A,{className:"w-5 h-5 text-blue-600"}),(0,l.jsx)("h3",{className:"font-medium text-blue-900",children:"Future: Microsoft Graph Integration"})]}),(0,l.jsx)("p",{className:"text-blue-800 mb-4",children:"Advanced email features available once basic SMTP is working:"}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm text-blue-800",children:[(0,l.jsxs)("ul",{className:"space-y-1",children:[(0,l.jsx)("li",{children:"• Fetch emails from inbox"}),(0,l.jsx)("li",{children:"• Auto-reply to inquiries"}),(0,l.jsx)("li",{children:"• Email tracking & analytics"})]}),(0,l.jsxs)("ul",{className:"space-y-1",children:[(0,l.jsx)("li",{children:"• Professional templates"}),(0,l.jsx)("li",{children:"• OAuth2 security"}),(0,l.jsx)("li",{children:"• Multi-mailbox support"})]})]})]})]}),"payment"===ef&&(0,l.jsxs)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-4",children:[(0,l.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Payment Settings"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Stripe Public Key"}),(0,l.jsx)("input",{type:"text",value:(null==(ex=eT.paymentSettings)?void 0:ex.stripePublicKey)||"",onChange:e=>eD({...eT,paymentSettings:{...eT.paymentSettings,stripePublicKey:e.target.value}}),placeholder:"pk_live_...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Tax Rate (%)"}),(0,l.jsx)("input",{type:"number",step:"0.01",value:(null==(ep=eT.paymentSettings)?void 0:ep.taxRate)||"",onChange:e=>eD({...eT,paymentSettings:{...eT.paymentSettings,taxRate:parseFloat(e.target.value)}}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500"})]}),(0,l.jsxs)("label",{className:"flex items-center gap-2",children:[(0,l.jsx)("input",{type:"checkbox",checked:(null==(eg=eT.paymentSettings)?void 0:eg.enableOnlinePayment)||!1,onChange:e=>eD({...eT,paymentSettings:{...eT.paymentSettings,enableOnlinePayment:e.target.checked}}),className:"rounded"}),(0,l.jsx)("span",{children:"Enable online payments"})]})]}),"seo"===ef&&(0,l.jsxs)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-4",children:[(0,l.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"SEO Settings"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Meta Title"}),(0,l.jsx)("input",{type:"text",value:(null==(eh=eT.seoSettings)?void 0:eh.metaTitle)||"",onChange:e=>eD({...eT,seoSettings:{...eT.seoSettings,metaTitle:e.target.value}}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Meta Description"}),(0,l.jsx)("textarea",{value:(null==(eb=eT.seoSettings)?void 0:eb.metaDescription)||"",onChange:e=>eD({...eT,seoSettings:{...eT.seoSettings,metaDescription:e.target.value}}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Meta Keywords"}),(0,l.jsx)("input",{type:"text",value:(null==(ey=eT.seoSettings)?void 0:ey.metaKeywords)||"",onChange:e=>eD({...eT,seoSettings:{...eT.seoSettings,metaKeywords:e.target.value}}),placeholder:"Comma separated keywords",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Google Analytics ID"}),(0,l.jsx)("input",{type:"text",value:(null==(ej=eT.seoSettings)?void 0:ej.googleAnalyticsId)||"",onChange:e=>eD({...eT,seoSettings:{...eT.seoSettings,googleAnalyticsId:e.target.value}}),placeholder:"G-XXXXXXXXXX",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500"})]})]}),"security"===ef&&(0,l.jsxs)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-4",children:[(0,l.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Security Settings"}),(0,l.jsxs)("div",{className:"p-4 bg-yellow-50 rounded-lg flex items-start gap-3",children:[(0,l.jsx)(P.A,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"font-medium text-yellow-900 mb-1",children:"Security Notice"}),(0,l.jsx)("p",{className:"text-sm text-yellow-700",children:"For security reasons, some settings can only be changed through environment variables or server configuration."})]})]}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-medium",children:"SSL Certificate"}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"HTTPS encryption is enabled"})]}),(0,l.jsx)(k.A,{className:"w-5 h-5 text-green-500"})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-medium",children:"Admin Panel"}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"Running on separate port (4000)"})]}),(0,l.jsx)(k.A,{className:"w-5 h-5 text-green-500"})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-medium",children:"Database Backup"}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"Daily automated backups"})]}),(0,l.jsx)(k.A,{className:"w-5 h-5 text-green-500"})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-medium",children:"Rate Limiting"}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"API rate limiting enabled"})]}),(0,l.jsx)(k.A,{className:"w-5 h-5 text-green-500"})]})]})]})]})}),(0,l.jsxs)("div",{className:"mt-6 flex justify-between",children:[(0,l.jsxs)("button",{onClick:()=>{confirm("Reset all settings to defaults?")&&eE.mutate()},className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 flex items-center gap-2",children:[(0,l.jsx)(h.A,{className:"w-4 h-4"}),"Reset to Defaults"]}),(0,l.jsxs)("button",{onClick:()=>{eP.mutate(eT)},disabled:eP.isPending,className:"px-6 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 disabled:opacity-50 flex items-center gap-2",children:[(0,l.jsx)(M.A,{className:"w-4 h-4"}),eP.isPending?"Saving...":"Save Changes"]})]})]})}},76329:(e,s,a)=>{"use strict";a.d(s,{H$:()=>l.H$});var l=a(46830);console.log("\uD83D\uDD27 API Configuration (Legacy):"),console.log("  Using centralized config from src/lib/config.ts"),console.log("  API URL:",l.H$)},89678:(e,s,a)=>{"use strict";a.d(s,{F:()=>i});var l=a(95125),t=a(76329),r=a(95704);let n=a(51431);r.env.NEXT_PUBLIC_CMS_URL;let i=l.A.create({baseURL:t.H$,headers:{"Content-Type":"application/json"},withCredentials:!0});i.interceptors.request.use(e=>{console.log("API Request:",e.baseURL+e.url);let s=n.get("auth-token");return s&&(e.headers.Authorization="Bearer ".concat(s)),e}),i.interceptors.response.use(e=>e,e=>{var s;return(null==(s=e.response)?void 0:s.status)===401&&(n.remove("auth-token"),window.location.pathname.startsWith("/admin")&&(window.location.href="/login")),Promise.reject(e)})}},e=>{e.O(0,[5125,2663,3299,6743,2454,492,8441,1255,7358],()=>e(e.s=42743)),_N_E=e.O()}]);