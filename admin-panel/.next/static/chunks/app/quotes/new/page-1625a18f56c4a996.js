(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2267],{702:(e,s,a)=>{Promise.resolve().then(a.bind(a,16602))},16602:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>C});var t=a(95155),n=a(12115),r=a(1733),i=a(20063),o=a(22454),l=a(80549),c=a(22544),d=a(66942),m=a(72377),u=a(22663),p=a(89678);let x={createFull:async e=>(await p.F.post("/quotes/full",e)).data,getTemplates:async()=>[{id:"1",name:"Food Truck Service - Standard",type:"FOOD_TRUCK",defaultItems:[{name:"Food Truck Setup & Service",description:"Complete food truck service",quantity:1,unitPrice:500},{name:"Per Person Food Package",description:"Choice of burgers, hot dogs, or sandwiches",quantity:50,unitPrice:15}]},{id:"2",name:"Mobile Bar Service - Premium",type:"MOBILE_BAR",defaultPackages:[{name:"Premium Open Bar Package",description:"Unlimited beer, wine, and mixed drinks",price:2500}]},{id:"3",name:"Catering - Corporate Event",type:"CATERING",defaultItems:[{name:"Business Lunch Package",description:"Complete lunch service",quantity:30,unitPrice:25}]},{id:"4",name:"Private Event - Wedding",type:"PRIVATE_EVENT",defaultPackages:[{name:"Wedding Reception Package",description:"Complete wedding service",price:7500}]},{id:"5",name:"Happy Hour Special Event",type:"PRIVATE_EVENT",defaultItems:[{name:"Happy Hour Appetizer Platter",description:"Wings, nachos, sliders, veggie platter",quantity:5,unitPrice:65}]}]};var g=a(92422),b=a(90368),h=a(89715),y=a(26617),f=a(6191),j=a(71360),N=a(91169),v=a(91761),w=a(46046),k=a(18085),P=a(52619),A=a.n(P);let I=m.Ik({title:m.Yj().min(1,"Title is required"),description:m.Yj().optional(),customerId:m.Yj().optional(),inquiryId:m.Yj().optional(),eventDate:m.Yj().optional(),eventLocation:m.Yj().optional(),guestCount:m.ai().min(1).optional(),items:m.YO(m.Ik({name:m.Yj().min(1,"Item name is required"),description:m.Yj().optional(),category:m.Yj().optional(),quantity:m.ai().min(1,"Quantity must be at least 1"),unitPrice:m.ai().min(0,"Price must be positive"),isOptional:m.zM().optional()})),packages:m.YO(m.Ik({name:m.Yj().min(1,"Package name is required"),description:m.Yj().optional(),price:m.ai().min(0,"Price must be positive"),isOptional:m.zM().optional()})).optional(),laborItems:m.YO(m.Ik({description:m.Yj().min(1,"Labor description is required"),hours:m.ai().min(0,"Hours must be positive"),rate:m.ai().min(0,"Rate must be positive"),staffName:m.Yj().optional(),isOptional:m.zM().optional()})).optional(),taxRate:m.ai().min(0).max(100).optional(),discount:m.ai().min(0).optional(),discountType:m.k5(["FIXED","PERCENTAGE"]).optional(),notes:m.Yj().optional(),internalNotes:m.Yj().optional(),termsAndConditions:m.Yj().optional(),validityDays:m.ai().min(1).optional()});function C(){var e;let s=(0,i.useRouter)(),[a,m]=(0,n.useState)(""),[p,P]=(0,n.useState)(!1),{register:C,control:E,handleSubmit:T,watch:q,setValue:F,formState:{errors:L}}=(0,c.mN)({resolver:(0,d.u)(I),defaultValues:{items:[{name:"",description:"",quantity:1,unitPrice:0}],packages:[],laborItems:[],taxRate:8.5,discountType:"FIXED",validityDays:30,termsAndConditions:"- 50% deposit required to secure booking\n- Final payment due on day of event\n- Cancellation must be made 7 days in advance for full refund"}}),{fields:R,append:S,remove:O}=(0,c.jz)({control:E,name:"items"}),{fields:Y,append:D,remove:_}=(0,c.jz)({control:E,name:"packages"}),{fields:B,append:z,remove:H}=(0,c.jz)({control:E,name:"laborItems"}),{data:U}=(0,o.I)({queryKey:["quote-templates"],queryFn:x.getTemplates}),{data:V}=(0,o.I)({queryKey:["recent-inquiries"],queryFn:()=>g.e.getAll({limit:10})}),$=(0,l.n)({mutationFn:e=>x.createFull({...e,generatePaymentLink:!0}),onSuccess:e=>{u.Ay.success("Quote created successfully"),s.push("/admin/quotes/".concat(e.id))},onError:()=>{u.Ay.error("Failed to create quote")}}),M=q("items")||[],W=q("packages")||[],X=q("laborItems")||[],G=q("taxRate")||0,Q=q("discount")||0,K=q("discountType")||"FIXED",J=M.reduce((e,s)=>e+(s.quantity||0)*(s.unitPrice||0),0),Z=W.reduce((e,s)=>e+(s.price||0),0),ee=X.reduce((e,s)=>e+(s.hours||0)*(s.rate||0),0),es=J+Z+ee,ea=0;Q&&(ea="PERCENTAGE"===K?es*Q/100:Q);let et=es-ea,en=et*G/100,er=et+en;return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50 p-6",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)(A(),{href:"/admin/quotes",className:"inline-flex items-center text-gray-600 hover:text-gray-900 mb-4",children:[(0,t.jsx)(b.A,{className:"w-5 h-5 mr-1"}),"Back to Quotes"]}),(0,t.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Create New Quote"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Build a professional quote for your customer"})]}),(0,t.jsxs)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm p-6 mb-8",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Start with a Template"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4",children:null==U?void 0:U.map(e=>(0,t.jsxs)(r.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{m(e.id);var s=e.id;let a=null==U?void 0:U.find(e=>e.id===s);a&&(F("title",a.name),a.defaultItems&&F("items",a.defaultItems),a.defaultPackages&&F("packages",a.defaultPackages),a.defaultLabor&&F("laborItems",a.defaultLabor),u.Ay.success('Template "'.concat(a.name,'" loaded')))},className:"p-4 border-2 rounded-lg text-center transition-all ".concat(a===e.id?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-gray-300"),children:[(0,t.jsx)(h.A,{className:"w-8 h-8 mx-auto mb-2 text-gray-600"}),(0,t.jsx)("div",{className:"text-sm font-medium",children:e.name})]},e.id))})]}),(0,t.jsxs)("form",{onSubmit:T(e=>{$.mutate(e)}),children:[(0,t.jsxs)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl shadow-sm p-6 mb-8",children:[(0,t.jsxs)("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[(0,t.jsx)(h.A,{className:"w-5 h-5 text-gray-600"}),"Basic Information"]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Title*"}),(0,t.jsx)("input",{...C("title"),type:"text",placeholder:"e.g., Food Truck Service - Smith Wedding",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none"}),L.title&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:L.title.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Link to Inquiry"}),(0,t.jsxs)("select",{...C("inquiryId"),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none",children:[(0,t.jsx)("option",{value:"",children:"Select inquiry (optional)"}),null==V||null==(e=V.data)?void 0:e.map(e=>(0,t.jsxs)("option",{value:e.id,children:[e.name," - ",e.type]},e.id))]})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Description"}),(0,t.jsx)("textarea",{...C("description"),rows:3,placeholder:"Brief description of the services...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none resize-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Event Date"}),(0,t.jsx)("input",{...C("eventDate"),type:"date",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Event Location"}),(0,t.jsx)("input",{...C("eventLocation"),type:"text",placeholder:"Event venue or address",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Guest Count"}),(0,t.jsx)("input",{...C("guestCount",{valueAsNumber:!0}),type:"number",placeholder:"Expected number of guests",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Validity (Days)"}),(0,t.jsx)("input",{...C("validityDays",{valueAsNumber:!0}),type:"number",placeholder:"30",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none"})]})]})]}),(0,t.jsxs)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl shadow-sm p-6 mb-8",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsxs)("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[(0,t.jsx)(y.A,{className:"w-5 h-5 text-gray-600"}),"Line Items"]}),(0,t.jsxs)("button",{type:"button",onClick:()=>S({name:"",description:"",quantity:1,unitPrice:0}),className:"text-orange-500 hover:text-orange-600 flex items-center gap-1",children:[(0,t.jsx)(f.A,{className:"w-4 h-4"}),"Add Item"]})]}),(0,t.jsx)("div",{className:"space-y-4",children:R.map((e,s)=>(0,t.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[(0,t.jsx)("div",{className:"md:col-span-2",children:(0,t.jsx)("input",{...C("items.".concat(s,".name")),type:"text",placeholder:"Item name",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none"})}),(0,t.jsx)("div",{className:"md:col-span-2",children:(0,t.jsx)("input",{...C("items.".concat(s,".description")),type:"text",placeholder:"Description",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none"})}),(0,t.jsx)("div",{children:(0,t.jsx)("input",{...C("items.".concat(s,".quantity"),{valueAsNumber:!0}),type:"number",placeholder:"Qty",min:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none"})}),(0,t.jsx)("div",{children:(0,t.jsx)("input",{...C("items.".concat(s,".unitPrice"),{valueAsNumber:!0}),type:"number",step:"0.01",placeholder:"Price",min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none"})})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center mt-3",children:[(0,t.jsxs)("label",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{...C("items.".concat(s,".isOptional")),type:"checkbox",className:"rounded"}),(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Optional item"})]}),(0,t.jsx)("button",{type:"button",onClick:()=>O(s),className:"text-red-500 hover:text-red-600",children:(0,t.jsx)(j.A,{className:"w-4 h-4"})})]})]},e.id))})]}),(0,t.jsxs)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl shadow-sm p-6 mb-8",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsxs)("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[(0,t.jsx)(y.A,{className:"w-5 h-5 text-gray-600"}),"Package Deals (Optional)"]}),(0,t.jsxs)("button",{type:"button",onClick:()=>D({name:"",description:"",price:0}),className:"text-orange-500 hover:text-orange-600 flex items-center gap-1",children:[(0,t.jsx)(f.A,{className:"w-4 h-4"}),"Add Package"]})]}),Y.length>0&&(0,t.jsx)("div",{className:"space-y-4",children:Y.map((e,s)=>(0,t.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsx)("div",{children:(0,t.jsx)("input",{...C("packages.".concat(s,".name")),type:"text",placeholder:"Package name",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none"})}),(0,t.jsx)("div",{className:"md:col-span-2",children:(0,t.jsx)("input",{...C("packages.".concat(s,".description")),type:"text",placeholder:"What's included",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none"})}),(0,t.jsx)("div",{children:(0,t.jsx)("input",{...C("packages.".concat(s,".price"),{valueAsNumber:!0}),type:"number",step:"0.01",placeholder:"Package price",min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none"})})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center mt-3",children:[(0,t.jsxs)("label",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{...C("packages.".concat(s,".isOptional")),type:"checkbox",className:"rounded"}),(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Optional package"})]}),(0,t.jsx)("button",{type:"button",onClick:()=>_(s),className:"text-red-500 hover:text-red-600",children:(0,t.jsx)(j.A,{className:"w-4 h-4"})})]})]},e.id))})]}),(0,t.jsxs)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-xl shadow-sm p-6 mb-8",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsxs)("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[(0,t.jsx)(N.A,{className:"w-5 h-5 text-gray-600"}),"Labor & Service (Optional)"]}),(0,t.jsxs)("button",{type:"button",onClick:()=>z({description:"",hours:0,rate:0}),className:"text-orange-500 hover:text-orange-600 flex items-center gap-1",children:[(0,t.jsx)(f.A,{className:"w-4 h-4"}),"Add Labor"]})]}),B.length>0&&(0,t.jsx)("div",{className:"space-y-4",children:B.map((e,s)=>(0,t.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,t.jsx)("div",{className:"md:col-span-2",children:(0,t.jsx)("input",{...C("laborItems.".concat(s,".description")),type:"text",placeholder:"Labor description",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none"})}),(0,t.jsx)("div",{children:(0,t.jsx)("input",{...C("laborItems.".concat(s,".hours"),{valueAsNumber:!0}),type:"number",step:"0.5",placeholder:"Hours",min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none"})}),(0,t.jsx)("div",{children:(0,t.jsx)("input",{...C("laborItems.".concat(s,".rate"),{valueAsNumber:!0}),type:"number",step:"0.01",placeholder:"Rate/hr",min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none"})}),(0,t.jsx)("div",{children:(0,t.jsx)("input",{...C("laborItems.".concat(s,".staffName")),type:"text",placeholder:"Staff name",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none"})})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center mt-3",children:[(0,t.jsxs)("label",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{...C("laborItems.".concat(s,".isOptional")),type:"checkbox",className:"rounded"}),(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Optional labor"})]}),(0,t.jsx)("button",{type:"button",onClick:()=>H(s),className:"text-red-500 hover:text-red-600",children:(0,t.jsx)(j.A,{className:"w-4 h-4"})})]})]},e.id))})]}),(0,t.jsxs)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white rounded-xl shadow-sm p-6 mb-8",children:[(0,t.jsxs)("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[(0,t.jsx)(v.A,{className:"w-5 h-5 text-gray-600"}),"Pricing & Totals"]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Tax Rate (%)"}),(0,t.jsx)("input",{...C("taxRate",{valueAsNumber:!0}),type:"number",step:"0.01",placeholder:"8.5",min:"0",max:"100",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Discount"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("input",{...C("discount",{valueAsNumber:!0}),type:"number",step:"0.01",placeholder:"0",min:"0",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none"}),(0,t.jsxs)("select",{...C("discountType"),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none",children:[(0,t.jsx)("option",{value:"FIXED",children:"$"}),(0,t.jsx)("option",{value:"PERCENTAGE",children:"%"})]})]})]})]}),(0,t.jsx)("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{children:"Items Total:"}),(0,t.jsxs)("span",{children:["$",J.toFixed(2)]})]}),Z>0&&(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{children:"Packages Total:"}),(0,t.jsxs)("span",{children:["$",Z.toFixed(2)]})]}),ee>0&&(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{children:"Labor Total:"}),(0,t.jsxs)("span",{children:["$",ee.toFixed(2)]})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm font-semibold border-t pt-2",children:[(0,t.jsx)("span",{children:"Subtotal:"}),(0,t.jsxs)("span",{children:["$",es.toFixed(2)]})]}),ea>0&&(0,t.jsxs)("div",{className:"flex justify-between text-sm text-red-600",children:[(0,t.jsx)("span",{children:"Discount:"}),(0,t.jsxs)("span",{children:["-$",ea.toFixed(2)]})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsxs)("span",{children:["Tax (",G,"%):"]}),(0,t.jsxs)("span",{children:["$",en.toFixed(2)]})]}),(0,t.jsxs)("div",{className:"flex justify-between text-lg font-bold border-t pt-2",children:[(0,t.jsx)("span",{children:"Total:"}),(0,t.jsxs)("span",{className:"text-orange-500",children:["$",er.toFixed(2)]})]})]})})]}),(0,t.jsxs)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white rounded-xl shadow-sm p-6 mb-8",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Additional Information"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Customer Notes"}),(0,t.jsx)("textarea",{...C("notes"),rows:3,placeholder:"Notes visible to the customer...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none resize-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Internal Notes"}),(0,t.jsx)("textarea",{...C("internalNotes"),rows:3,placeholder:"Internal notes (not visible to customer)...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none resize-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Terms & Conditions"}),(0,t.jsx)("textarea",{...C("termsAndConditions"),rows:5,placeholder:"Enter terms and conditions...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none resize-none"})]})]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)(A(),{href:"/admin/quotes",children:(0,t.jsx)("button",{type:"button",className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"})}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)(r.P.button,{type:"submit",disabled:$.isPending,whileHover:{scale:1.02},whileTap:{scale:.98},className:"px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors flex items-center gap-2 disabled:opacity-50",children:[(0,t.jsx)(w.A,{className:"w-5 h-5"}),"Save as Draft"]}),(0,t.jsx)(r.P.button,{type:"submit",disabled:$.isPending,whileHover:{scale:1.02},whileTap:{scale:.98},className:"px-6 py-3 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors flex items-center gap-2 disabled:opacity-50",children:$.isPending?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Creating..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(k.A,{className:"w-5 h-5"}),"Create & Send"]})})]})]})]})]})}},76329:(e,s,a)=>{"use strict";a.d(s,{H$:()=>r});var t=a(95704);let n=("staging"===t.env.NEXT_PUBLIC_ENV,"http://staging.kockys.com"),r="".concat(n,"/api");console.log("\uD83D\uDD27 API Configuration:"),console.log("  Environment:","production"),console.log("  Custom ENV:",t.env.NEXT_PUBLIC_ENV),console.log("  API Base URL:",n),console.log("  Full API URL:",r)},89678:(e,s,a)=>{"use strict";a.d(s,{F:()=>o});var t=a(95125),n=a(76329),r=a(95704);let i=a(51431);r.env.NEXT_PUBLIC_CMS_URL;let o=t.A.create({baseURL:n.H$,headers:{"Content-Type":"application/json"},withCredentials:!0});o.interceptors.request.use(e=>{console.log("API Request:",e.baseURL+e.url);let s=i.get("auth-token");return s&&(e.headers.Authorization="Bearer ".concat(s)),e}),o.interceptors.response.use(e=>e,e=>{var s;return(null==(s=e.response)?void 0:s.status)===401&&(i.remove("auth-token"),window.location.pathname.startsWith("/admin")&&(window.location.href="/login")),Promise.reject(e)})},92422:(e,s,a)=>{"use strict";a.d(s,{e:()=>n});var t=a(89678);let n={submit:async e=>(await t.F.post("/contact/submit",e)).data,getAll:async e=>{let s={...e,serviceType:null==e?void 0:e.type,type:void 0};return(await t.F.get("/crm/inquiries",{params:s})).data},getById:async e=>(await t.F.get("/crm/inquiries/".concat(e))).data,update:async(e,s)=>(await t.F.put("/crm/inquiries/".concat(e),s)).data,updateStatus:async(e,s,a)=>(await t.F.put("/crm/inquiries/".concat(e),{status:s,notes:a})).data,getStatistics:async()=>(await t.F.get("/crm/dashboard")).data}}},e=>{e.O(0,[5125,2663,3299,2619,6743,2454,9164,8441,1255,7358],()=>e(e.s=702)),_N_E=e.O()}]);